<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Results · OverEdge</title>
  <meta name="description" content="W/L results for OverEdge Free Picks with success rate and details."/>
  <link rel="stylesheet" href="/style.css"/>

  <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/overedge-logo-512.png">

  <style>
    /* ===== Summary KPI boxes — new look (style-only change) ===== */
    .results-summary{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap:14px;
      margin:.5rem 0 1rem;
    }
    .results-summary .card{
      background:#ffffff;
      border:1px solid #e5e7eb;
      border-radius:16px;
      padding:14px 16px;
      box-shadow: 0 6px 18px rgba(17,24,39,.06), inset 0 1px 0 #ffffffcc;
      transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
    }
    .results-summary .card:hover{
      transform: translateY(-1px);
      box-shadow: 0 10px 22px rgba(17,24,39,.10);
      border-color:#d1d5db;
    }
    /* Title (e.g., Total, Wins) */
    .results-summary .card > div:first-child{
      font-size:.78rem;
      text-transform:uppercase;
      letter-spacing:.03em;
      color:#6b7280;
      font-weight:800;
    }
    /* Value (e.g., 18, 83.3%) */
    .results-summary .card > div:last-child{
      margin-top:2px;
      font-size:1.6rem;
      line-height:1;
      font-weight:900;
      color:#111827;
    }

    /* ===== Pills, table, misc (unchanged) ===== */
    .wl-pill{display:inline-block;border-radius:999px;padding:.1rem .5rem;font-weight:800;font-size:.8rem}
    .wl-win{background:#ecfdf5;color:#065f46;border:1px solid #bbf7d0}
    .wl-lose{background:#fef2f2;color:#991b1b;border:1px solid #fecaca}
    .tbl{width:100%;border-collapse:separate;border-spacing:0}
    .tbl th,.tbl td{padding:.6rem .6rem;border-bottom:1px solid #e5e7eb;vertical-align:top}
    .tbl th{text-align:left;font-weight:800;opacity:.8}
    .date-head{margin-top:1.2rem;font-weight:800}
    .muted-sm{opacity:.75;font-size:.92rem}
    .toolbar{display:flex;gap:.75rem;align-items:center;margin:.75rem 0 1.25rem}
    select{padding:.4rem .55rem;border:1px solid #e5e7eb;border-radius:.5rem;background:#fff}
  </style>

  <!-- Google tag -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-88C4MQ3EF8"></script>
  <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);} gtag('js',new Date()); gtag('config','G-88C4MQ3EF8');</script>
</head>
<script src="/pixel.js" defer></script>
<script src="/social.js" defer></script>

<body>
  <header class="site-header">
    <nav class="nav">
      <a class="logo brand" href="/" aria-label="OverEdge">
        <img class="brand-img" src="/img/overedge-logo.png" alt="" />
        <span class="sr-only">OverEdge</span>
      </a>
      <div class="links">
        <a href="/free-picks">Free Picks</a>
        <a href="/pro">Pro</a>
        <a href="/pricing">Pricing</a>
        <a href="/FAQ">FAQ</a>
        <a href="/results" aria-current="page">Results</a>
        <a href="/account">Account</a>
      </div>
      <div class="auth" style="display:flex;align-items:center;gap:.5rem">
        <span id="nav-plan" class="badge pill" style="display:none"></span>
        <a class="btn small secondary" href="/account">Sign In</a>
      </div>
    </nav>
  </header>

  <main class="section" style="max-width:1000px">
    <h1>Free Picks — Results</h1>
    <p class="muted">Transparent record of outcomes. We calculate Win% from settled picks (Push excluded). ROI assumes 1u flat staking when odds are present.</p>

    <div id="summary" class="results-summary">
      <div class="card"><div><strong>Total</strong></div><div id="s-total">—</div></div>
      <div class="card"><div><strong>Wins</strong></div><div id="s-wins">—</div></div>
      <div class="card"><div><strong>Losses</strong></div><div id="s-losses">—</div></div>
      <div class="card"><div><strong>Win %</strong></div><div id="s-winrate">—</div></div>
      <div class="card"><div><strong>ROI</strong></div><div id="s-roi">—</div></div>
      <div class="card"><div><strong>Year Win %</strong></div><div id="s-ywin">—</div></div>
      <div class="card"><div><strong>Year ROI</strong></div><div id="s-yroi">—</div></div>
    </div>

    <div class="toolbar">
      <label for="monthSelect" class="muted-sm"><strong>Monthly view:</strong></label>
      <select id="monthSelect"></select>
      <span class="muted-sm" id="monthStats"></span>
    </div>

    <div id="list">Loading…</div>
  </main>

  <footer class="site-footer">
    <span>© <span id="y"></span> OverEdge — Data beats gut</span>
    <div class="contact">
      <a href="mailto:overedgestats@gmail.com">overedgestats@gmail.com</a>
      &nbsp;·&nbsp;
      <a href="https://www.facebook.com/profile.php?id=61579190114778" target="_blank" rel="noopener">Facebook</a>
      &nbsp;·&nbsp;
      <a href="https://www.instagram.com/overedgefootball" target="_blank" rel="noopener">@overedgefootball</a>
    </div>
  </footer>

  <script>
    document.getElementById('y').textContent=new Date().getFullYear();

    // ===== MANUAL RESULTS (all in Sep 2025) =====
    const RESULTS = [
      // 2025-09-26
      { date:"2025-09-26", home:"Fanalamanga", away:"Ferroviário Maputo", market:"Under 2.5", odds:1.53, status:"lose" },
      { date:"2025-09-26", home:"Tukums II",   away:"Riga Mariners",      market:"Over 2.5",  odds:1.33, status:"win" },

      // 2025-09-25 (both picks WON)
      { date:"2025-09-25", home:"Johor Darul Takzim FC", away:"Bangkok United", market:"Over 2.5", odds:1.44, status:"win" },
      { date:"2025-09-25", home:"Nam Dinh",              away:"Svay Rieng",     market:"Over 2.5", odds:1.90, status:"win" },

      // 2025-09-24
      { date:"2025-09-24", home:"VfL Wolfsburg W", away:"Werder Bremen W",   market:"Over 2.5",  odds:1.57, status:"win" },
      { date:"2025-09-24", home:"Kabel Novi Sad",   away:"Semendrija 1924",  market:"Under 2.5", odds:1.44, status:"lose" },

      // 2025-09-23
      { date:"2025-09-23", home:"Miedź Legnica II", away:"Świt Skolwin",     market:"Over 2.5",  odds:1.55, status:"win" },
      { date:"2025-09-23", home:"Cagliari",         away:"Frosinone",        market:"Under 2.5", odds:1.80, status:"lose" },

      // 2025-09-22
      { date:"2025-09-22", home:"Barcelona Atlètic", away:"Castellón B",     market:"Over 2.5",  odds:1.60, status:"win" },

      // 2025-09-21
      { date:"2025-09-21", home:"Rēzekne FA",       away:"Skanste",          market:"Over 2.5",  odds:1.45, status:"win" },
      { date:"2025-09-21", home:"Häcken W",         away:"Rosengård W",      market:"Over 2.5",  odds:1.73, status:"win" },

      // 2025-09-20
      { date:"2025-09-20", home:"1899 Hoffenheim",  away:"Bayern München",   market:"Over 2.5",  odds:1.35, status:"win" },
      { date:"2025-09-20", home:"Ogre United",      away:"Riga Mariners",    market:"Over 2.5",  odds:1.65, status:"win" },

      // 2025-09-17
      { date:"2025-09-17", home:"Cham",             away:"Vevey Sports",     market:"Over 2.5",  odds:1.54, status:"win" },
      { date:"2025-09-17", home:"Rothis",           away:"Sturm Graz",       market:"Over 2.5",  odds:1.20, status:"lose" },

      // 2025-09-16
      { date:"2025-09-16", home:"Tonbridge Angels", away:"Steyning Town",    market:"Over 2.5",  odds:1.67, status:"win" },
      { date:"2025-09-16", home:"Rylands",          away:"Ashton United",    market:"Under 2.5", odds:1.80, status:"win" },
      { date:"2025-09-16", home:"Sharjah FC",       away:"Al-Gharafa",       market:"Over 2.5",  odds:1.70, status:"win" },

      // 2025-09-14
      { date:"2025-09-14", home:"Pitea W",          away:"Brommapojkarna W", market:"Over 2.5",  odds:1.69, status:"win" },
      { date:"2025-09-14", home:"Marupe",           away:"JDFS Alberts",     market:"Over 2.5",  odds:1.47, status:"win" },
    ];

    // --- helpers ---
    const el = id => document.getElementById(id);
    function wlPill(status){
      const s = String(status||'').toLowerCase();
      if (s === 'win') return '<span class="wl-pill wl-win">WIN</span>';
      if (s === 'loss' || s === 'lose') return '<span class="wl-pill wl-lose">LOSE</span>';
      return '—';
    }
    function monthKey(dateStr){ return (dateStr||'').slice(0,7); } // "YYYY-MM"
    function monthLabel(key){
      const [y,m] = key.split('-').map(Number);
      const d = new Date(y, m-1, 1);
      return d.toLocaleDateString(undefined, { year:'numeric', month:'long' });
    }
    function computeStats(picks){
      let wins=0, losses=0, stake=0, pnl=0;
      for (const p of picks){
        const s = String(p.status||'').toLowerCase();
        if (s === 'win') wins++;
        else if (s === 'lose' || s === 'loss') losses++;
        if (typeof p.odds === 'number'){
          stake += 1;
          if (s === 'win') pnl += (p.odds - 1);
          else if (s === 'lose' || s === 'loss') pnl -= 1;
        }
      }
      const settled = wins + losses;
      const winRate = settled ? (wins/settled*100) : null;
      const roiPct  = stake ? (pnl/stake*100) : null;
      return { wins, losses, settled, winRate, roiPct, stake, pnl };
    }

    // ---- Hide months older than launch
    const MIN_MONTH = '2025-09';

    // Filtered list used for UI (dropdown, list, and "All months")
    const ALLOWED_RESULTS = RESULTS.filter(r => monthKey(r.date) >= MIN_MONTH);

    // Build month groups (allowed only)
    const byMonth = new Map();
    ALLOWED_RESULTS.forEach(r => {
      const k = monthKey(r.date);
      if (!byMonth.has(k)) byMonth.set(k, []);
      byMonth.get(k).push(r);
    });

    // Populate month dropdown (descending), prepend "All"
    const monthSelect = el('monthSelect');
    const months = Array.from(byMonth.keys())
      .filter(k => k >= MIN_MONTH)
      .sort((a,b)=> b.localeCompare(a));

    const allOpt = document.createElement('option');
    allOpt.value = 'all';
    allOpt.textContent = 'All months';
    monthSelect.appendChild(allOpt);

    months.forEach(k=>{
      const opt = document.createElement('option');
      opt.value = k; opt.textContent = monthLabel(k);
      monthSelect.appendChild(opt);
    });
    monthSelect.value = months[0] || 'all';

    // Top summaries
    const allStats = computeStats(ALLOWED_RESULTS);
    el('s-total').textContent   = ALLOWED_RESULTS.length;
    el('s-wins').textContent    = allStats.wins;
    el('s-losses').textContent  = allStats.losses;
    el('s-winrate').textContent = (allStats.winRate!=null? allStats.winRate.toFixed(1)+'%':'—');
    el('s-roi').textContent     = (allStats.roiPct!=null? allStats.roiPct.toFixed(1)+'%':'—');

    // Yearly (current calendar year)
    const currentYear = new Date().getFullYear();
    const yearPicks = ALLOWED_RESULTS.filter(r => (r.date||'').startsWith(String(currentYear)));
    const yStats = computeStats(yearPicks.length ? yearPicks : ALLOWED_RESULTS);
    el('s-ywin').textContent = (yStats.winRate!=null? yStats.winRate.toFixed(1)+'%':'—');
    el('s-yroi').textContent = (yStats.roiPct!=null? yStats.roiPct.toFixed(1)+'%':'—');

    // Monthly stats line next to dropdown
    function showMonthStats(key){
      let picks;
      if (key==='all') picks = ALLOWED_RESULTS;
      else picks = byMonth.get(key) || [];
      const s = computeStats(picks);
      el('monthStats').innerHTML =
        picks.length
          ? `Picks: <strong>${s.settled}</strong> · Win%: <strong>${s.winRate!=null?s.winRate.toFixed(1)+'%':'—'}</strong> · ROI: <strong>${s.roiPct!=null?s.roiPct.toFixed(1)+'%':'—'}</strong>`
          : 'No data';
    }
    showMonthStats(monthSelect.value);
    monthSelect.addEventListener('change', e=> showMonthStats(e.target.value));

    // Render full list grouped by date within each (allowed) month (desc)
    function renderAllMonths(){
      const host = el('list');
      host.innerHTML = '';

      const monthKeys = Array.from(byMonth.keys())
        .filter(k => k >= MIN_MONTH)
        .sort((a,b)=> b.localeCompare(a));

      monthKeys.forEach(k=>{
        const list = byMonth.get(k) || [];
        // group by date
        const byDate = {};
        list.forEach(p => { (byDate[p.date] ||= []).push(p); });
        const dates = Object.keys(byDate).sort((a,b)=> b.localeCompare(a));

        const mStats = computeStats(list);
        const wrap = document.createElement('section');
        wrap.innerHTML = `
          <div class="date-head" style="display:flex;justify-content:space-between;align-items:baseline">
            <span>${monthLabel(k)}</span>
            <span class="muted-sm">
              Picks: <strong>${mStats.settled}</strong> ·
              Win%: <strong>${mStats.winRate!=null?mStats.winRate.toFixed(1)+'%':'—'}</strong> ·
              ROI: <strong>${mStats.roiPct!=null?mStats.roiPct.toFixed(1)+'%':'—'}</strong>
            </span>
          </div>
        `;

        dates.forEach(d=>{
          const picks = byDate[d];
          const block = document.createElement('div');
          block.innerHTML = `
            <div class="muted-sm" style="margin:.35rem 0 .2rem;"><strong>${d}</strong></div>
            <table class="tbl">
              <thead>
                <tr><th>Match</th><th>Market</th><th>Odds</th><th>Result</th></tr>
              </thead>
              <tbody>
                ${picks.map(p=>`
                  <tr>
                    <td><strong>${p.home}</strong> vs <strong>${p.away}</strong></td>
                    <td><strong>${p.market}</strong></td>
                    <td>${typeof p.odds==='number'? p.odds.toFixed(2) : '—'}</td>
                    <td>${wlPill(p.status)}</td>
                  </tr>
                `).join('')}
              </tbody>
            </table>
          `;
          wrap.appendChild(block);
        });

        host.appendChild(wrap);
      });
    }
    renderAllMonths();
  </script>
</body>
</html>
