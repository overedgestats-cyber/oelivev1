<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OverEdge – Pricing</title>
  <link rel="stylesheet" href="/app.css" />
</head>
<body>
  <header class="site-header">
    <nav class="nav">
      <a class="brand" href="/home.html">OverEdge</a>
      <a href="/free-picks.html">Free Picks</a>
      <a href="/pro.html">Pro</a>
      <a class="active" href="/pricing.html">Pricing</a>
      <a href="/about.html">About</a>
      <a href="/faq.html">FAQ</a>
      <span class="spacer"></span>
      <span id="nav-user">Account</span>
      <span id="nav-auth"></span>
    </nav>
  </header>

  <main class="container">
    <h1>Pricing</h1>
    <p>Choose a plan. You’ll need to sign in with Google before subscribing.</p>

    <section class="grid">
      <article class="card">
        <h2>Starter</h2>
        <p>Weekly access to Pro.</p>
        <button class="btn" data-link="https://buy.stripe.com/bJe28s9DGabedyv5108k800">Subscribe</button>
      </article>

      <article class="card">
        <h2>Monthly</h2>
        <p>6 months.</p>
        <button class="btn" data-link="https://buy.stripe.com/5kQ4gA6rudnqcur5108k801">Subscribe</button>
      </article>

      <article class="card">
        <h2>Quaterly</h2>
        <p>Best value.</p>
        <button class="btn" data-link="https://buy.stripe.com/8x24gAeY0erucurgJI8k802">Subscribe</button>
      </article>

      <article class="card">
        <h2>Yearly</h2>
        <p>Priority support.</p>
        <button class="btn" data-link="https://buy.stripe.com/00w4gA17a5UY0LJ9hg8k803">Subscribe</button>
      </article>
    </section>
  </main>

  <script type="module" src="/app.js"></script>
  <script>
    // Require sign-in before going to Stripe checkout
    document.addEventListener('click', async (e) => {
      const btn = e.target.closest('button[data-link]');
      if (!btn) return;
      e.preventDefault();
      const u = window.$user?.();
      if (!u) {
        // triggers Google sign-in from app.js
        if (window.signIn) await window.signIn();
      }
      // navigate after sign-in (or immediately if already signed in)
      const link = btn.getAttribute('data-link');
      if (link) location.href = link;
    });
  </script>
</body>
</html>
